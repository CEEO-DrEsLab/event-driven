<!--
	Title: Send Test v6
	By: Benjamin Zackin
	Last Modified: 7/26/2016
	Notes: Sends HTTP POST request to Juliana's EV3 (IP 130.64.189.185, Port 5000)
		then sets up websocket and sets up and listens for "motor_on" event 
		via Socket.io websocket.
-->

<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Send Test v6</title>

	<style>
		#data {
			height:100px;
			width:600px;
		}
		#submit_button {
			height:20px;
			width:80px;
		}
		#destination {
			height:20px;
			width:200px;
		}
		#print_block {
			height:200px;
			width:200px;
			background-color:black;
			color:lightgreen;
				display:inline-block
		}
		#event_log {
			height:200px;
			width:200px;
			background-color:black;
			color:lightgreen;
			display:inline-block;
		}
	</style>

	<script type="text/javascript"></script>
	<!--<script src= "data_model_parser1.js"></script>-->
	<script src="https://cdn.socket.io/socket.io-1.4.5.js"></script>
	<script>
  		var socket = io("http://127.0.0.1:5000");//"http://130.64.189.185:5000");//insert URL of server here

  		socket.on('connect', function() { // listener for 'connect' event
			console.log("Connected!");
  		});
  		//socket.emit('event', function(data){}); // listener for 'event' event
  		socket.on('disconnect', function(){
  			console.log("disconnected :(")
  		}); // listener for 'disconnect' event

		function send_setter_stuff(set_data) {
			socket.emit("setter_event",set_data);
		}

		socket.on('get_response', function (status){
			console.log('get response received with code: ' + status);
		});
		socket.on('set_response', function (status) {
    		console.log('set response received with code: ' + status);
  		});
	</script>
	<script>
		
	</script>
</head>

<body>
	<div id="header">
		<h1>Send Trial 6: Ping Juliana's EV3 via Socket.io websocket</h1>
	</div>
	<h2>Paste set request below</h2>
	<!--http://130.64.94.159:5000-->
	<form>
		<textarea name="value1" id="data" rows="10" cols="30"></textarea>
		<button id="submit_button" onclick="send_setter_stuff(document.getElementById('data').value)">Send!</button>
		<!--<button id="submit_button" onclick="parse_data(document.getElementById('data').value)">Send!</button>-->
	</form>

	<div id="print_block"></div>
	<div id="event_log"></div>
</body>

</html>